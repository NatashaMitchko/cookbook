{% extends "admin_base.html" %}

{% block admin_content %}
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Slug/ Live Link</th>
      <th>Description</th>
      <th>Tags</th>
      <th>Status</th>
      <th>Preview</th>
      <th>Edit</th>
    </tr>
  </thead>
  <tbody>
    {% for r in recipes %}
    <td>{{ r.title }}</td>
    <td>
      {% if r.status.name == 'PUBLISHED' %}
      <a href="{{ url_for('recipe_bp.render_recipe', slug=r.slug) }}">{{ r.slug }}</a>
      {% else %}
      {{ r.slug }}
      {% endif %}
    </td>
    <td>{{ r.description }}</td>
    <td>
      {% for t in r.tags %}
      <span class="badge rounded-pill bg-secondary">{{ t }}</span>
      {% endfor %}
    </td>
    <td>{{ r.status.name }}</td>
    <td><a href="{{ url_for('admin_bp.preview_recipe', slug=r.slug) }}">Preview</a></td>
    <td><a href="{{ url_for('admin_bp.edit_recipe', slug=r.slug) }}">Edit</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}